Suit=function(t,n){var e,i,r,o,u,s,c,a,p=t.document,f={up:function(t,n){t=t||p.querySelectorAll("[suit]"),t.constructor===String&&(t=p.querySelectorAll(t)),t.constructor===NodeList||t.constructor===Array?_.each(t,function(t,e){f.upOne(e,n)}):f.upOne(t,n)},upOne:function(e,i){i=i||e.getAttribute("suit").split(";"),f.initProp(e,e,t.Suit.propName),l.has(e)||l.add(e),_.each(i,function(t,i){a=f.parseSuit(e,i),e.__Suits__.indexOf(a.classString)>-1||(i=f.classify(a.classString),i!==n&&(e.__Suits__.push(a.classString),r=f.getDependencies(i),f.copy(f.create(e,i,r),a.to)))})},initProp:function(t,n,e){t.hasOwnProperty(e)||(u=function(){},u.prototype=n,t[e]=new u)},parseSuit:function(n,e){return e.indexOf("=")>-1?(c=e.split("="),f.initProp(n[t.Suit.propName],n,c[0]),{to:n[t.Suit.propName][c[0]],classString:c[1]}):{to:n[t.Suit.propName],classString:e}},classify:function(n,i){return i=i||t,-1===(e=n.indexOf("."))?i[n]:this.classify(n.substring(e+1,n.length),i[n.substring(0,e)])},copy:function(n,e){for(i in n)i!==t.Suit.propName&&null!=n[i]&&(e[i]=n[i])},getDependencies:function(t){return r=[],t.hasOwnProperty("dependencies")&&_.each(t.dependencies,function(t,n){r.push(h.lookUp(n))}),r},create:function(t,n,e){return u=function(){n.apply(this,e)},s=function(){this.Owner=t},s.prototype=n.prototype,u.prototype=new s,new u}},h={services:{},params:{},get:function(t){return this.services[t]},set:function(t,n){this.services[t]=n},getParam:function(t){return this.params[t]},setParam:function(t,n){this.params[t]=n},lookUp:function(t){if("string"==typeof t){if(o=this.toGlobal(t))return f.classify(o);if(o=this.toService(t))return this.get(o);if(o=this.toParam(t))return this.getParam(o)}return t},toGlobal:function(t){return 0===t.indexOf("{")&&t.indexOf("}")===t.length-1?t.substring(1,t.length-1):""},toService:function(t){return 0===t.indexOf("@")?t.substring(1,t.length):""},toParam:function(t){return"%"===t.charAt(0)&&"%"===t.charAt(t.length-1)?t.substring(1,t.length-1):""}},l={elements:{},counter:0,add:function(t){t.__SuitID__=t.__SuitID__||++this.counter,this.elements[t.__SuitID__]=t,t.__Suits__=[]},has:function(t){return t.hasOwnProperty("__SuitID__")?this.elements.hasOwnProperty(t.__SuitID__):!1}},_={bind:function(n,e,i){n.addEventListener?n.addEventListener(e,i,!1):n.attachEvent?n.attachEvent("on"+e,function(){i.apply(n,new Array(t.event))}):n["on"+e]=i},each:function(t,n){for(i in t)t.hasOwnProperty(i)&&"length"!==i&&n(i,t[i])}};return _.bind(p,"DOMContentLoaded",function(){f.up()}),{propName:"St",up:function(t,n){f.up(t,n)},DI:{get:function(t){return h.get(t)},set:function(t,n){h.set(t,n)},getParam:function(t){return h.getParam(t)},setParam:function(t,n){h.setParam(t,n)}}}}(window);